(function(){'use strict';var _Mathround=Math.round;function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function _objectSpread2(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?ownKeys(t,!0).forEach(function(n){_defineProperty(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,o,s={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||(s[n]=e[n]);return s}function _objectWithoutProperties(e,t){if(null==e)return{};var n,o,s=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(0<=t.indexOf(n))&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(function(){var _Mathfloor=Math.floor,_Mathmax=Math.max;function t(e){this.url=[],this.init(e)}var g,l,n,f,x,w,p,B,k,q,u,y,z=0,A=0;window.Tcss={},Tcss._ver="tcss.3.4.5.1";var v="function"==typeof tracert&&"function"==typeof pgvGetColumn&&"function"==typeof pgvGetTopic&&"function"==typeof pgvGetDomainInfo&&"function"==typeof pgvGetRefInfo;if("undefined"==typeof r)var r=1;window.__PTTbtnBuffer=[],window.PTTSendClick=function(){if(0<arguments.length){var e=[].slice.call(arguments);__PTTbtnBuffer.push(e),console.warn("\u7EC4\u4EF6\u76D1\u6D4B\u5230\u60A8\u5728pgvMain\u6267\u884C\u524D\u5DF2\u7ECF\u5C1D\u8BD5\u89E6\u53D1PTTsendClick\uFF0C\u8BF7\u786E\u4FDD\u4F60\u7684\u4EE3\u7801\u4E2D\u6709\u6267\u884CpgvMain\uFF0C\u5426\u5219\u5C06\u4E0D\u4F1A\u6709\u4EFB\u4F55\u7684\u6570\u636E\u4E0A\u62A5")}},window.__PTTDmp=null,"Promise"in window&&(window.__PTTreportBuffer={args:[],resolve:[],reject:[]},window.__SlugDmp=function(e){__PTTDmp=this,__PTTDmp.args=e,__PTTDmp.report=function(e){return e&&__PTTreportBuffer.args.push(e),new Promise(function(e,t){__PTTreportBuffer.resolve.push(e),__PTTreportBuffer.reject.push(t)})}}),t.prototype={init:function(e){if(f=e?e:{},g=document,!f.statIframe&&window!=top)try{g=top.document}catch(e){}"undefined"==typeof g&&(g=document),l=g.location,n=g.body,v&&(Tcss.d=g,Tcss.l=l),q=[],u=[],y=[]},PTTInfo:function(){window.PTTRun=new PTT,PTTRun.virtualURL=this.getDomainInfo().replace(/dm=|\&url=/g,"");var e=["pttplat="+PTTRun.plat,"pttsitetype="+(PTTRun.project?PTTRun.project:"")+PTTRun.siteType,"pttpagetype="+PTTRun.pageType,"pttpagename="+encodeURIComponent(PTTRun.pageName),"pttrefer="+encodeURIComponent(PTTRun.from),"systemInfo="+encodeURIComponent(PTTRun.PTTSystem+PTTRun.PTTSystemVer),"browserInfo="+encodeURIComponent(PTTRun.detectBrowser),"devicesize="+encodeURIComponent(PTTRun.PTTPixelWidth+"x"+PTTRun.PTTPixelHeight),"viewsize="+encodeURIComponent(PTTRun.PTTViewPixelWidth+"x"+PTTRun.PTTViewPixelHeight),"netType="+encodeURIComponent(PTTRun.PTTNetType)],t=e.join("&").trimAll();return console.log(decodeURI(e.join(";\n"))),t},run:function(){var e,t,n;e=new Date().getTime();var i=escape(this.PTTInfo());h.init(),this.url.push(this.getDomainInfo()),this.coverCookie(),h.setCookie("ssid"),h.save(),this.url.unshift("https://pingfore."+this.getCookieSetDomain(x)+"/pingd?"),this.url.push(this.getRefInfo(f));try{navigator.cookieEnabled?this.url.push("&pvid="+h.setCookie("pgv_pvid",!0)):this.url.push("&pvid=NoCookie")}catch(e){this.url.push("&pvid=NoCookie")}this.url.push(this.getMainEnvInfo()),this.url.push(this.getExtendEnvInfo()),Tcss.pgUserType="",(f.pgUserType||f.reserved2)&&(t=f.pgUserType||f.reserved2,t=escape(t.substring(0,256)),Tcss.pgUserType=t,y.push("pu="+Tcss.pgUserType)),v&&(pgvGetColumn(),pgvGetTopic(),this.url.push("&column="+Tcss.column+"&subject="+Tcss.subject),tracert()),this.url.push("&vs="+Tcss._ver),h.setCookie("ts_uid",!0),t=new Date().getTime(),q.push("tm="+(t-e)),z&&q.push("ch="+z),n=f.extParam?f.extParam+"|":"",this.url.push("&ext="+i),this.url.push("&hurlcn="+escape(u.join(";"))),this.url.push("&rand="+_Mathround(1E5*Math.random())),"undefined"==typeof _speedMark?this.url.push("&reserved1=-1"):this.url.push("&reserved1="+(new Date-_speedMark)),(e=this.getSud())&&y.push("su="+escape(e.substring(0,256))),this.url.push("&tt="+escape(y.join(";"))),this.sendInfo(this.url.join("")),1==A&&(e=this.getParameter("tcss_rp_dm",g.URL),e!=Tcss.dm&&(e=this.url.join("").replace(/\?dm=(.*?)\&/,"?dm="+e+"&"),this.sendInfo(e))),f.hot&&(document.attachEvent?document.attachEvent("onclick",function(e){pgvWatchClick(e)}):document.addEventListener("click",function(e){pgvWatchClick(e)},!1)),f.repeatApplay&&"true"==f.repeatApplay&&"undefined"!=typeof r&&(r=1)},getSud:function(){return f.sessionUserType?f.sessionUserType:this.getParameter(f.sudParamName||"sessionUserType",g.URL)},coverCookie:function(){if(f.crossDomain&&"on"==f.crossDomain){var e=this.getParameter("tcss_uid",g.URL),t=this.getParameter("tcss_sid",g.URL),n=this.getParameter("tcss_refer",g.URL),i=this.getParameter("tcss_last",g.URL);t&&e&&(A=1,h.setCookie("ssid",!1,t),h.save(),h.setCookie("ts_refer",!0,n),h.setCookie("ts_last",!0,i),h.setCookie("pgv_pvid",!0,e))}},getDomainInfo:function(e){var t;return t=l.hostname.toLowerCase(),f.virtualDomain&&(u.push("ad="+t),t=f.virtualDomain),this.getCurrentUrl(),Tcss.dm=t,v&&pgvGetDomainInfo(),x=Tcss.dm,w||(w=this.getCookieSetDomain(l.hostname.toLowerCase()),v&&(Tcss.domainToSet=w)),e&&(Tcss.dm+=".hot"),"dm="+Tcss.dm+"&url="+Tcss.url},getCurrentUrl:function(){var e="",t="-",e=escape(l.pathname);if(""!=l.search&&(t=escape(l.search.substr(1))),f.senseParam){var n=this.getParameter(f.senseParam,g.URL);n&&(e+="_"+n)}f.virtualURL&&(u.push("au="+e),e=f.virtualURL),Tcss.url=e,Tcss.arg=t},getRefInfo:function(t){var n,i="-",o="-",s="-",r=g.referrer;t=this.getParameter(t.tagParamName||"ADTAG",g.URL),n=r.indexOf("://"),-1<n&&(n=r.match(/(\w+):\/\/([^\:|\/]+)(\:\d*)?(.*\/)([^#|\?|\n]+)?(#.*)?(\?.*)?/i))&&(i=n[2],o=n[4]+(n[5]?n[5]:"")),-1!=r.indexOf("?")&&(n=r.indexOf("?")+1,s=r.substr(n)),r=i,f.virtualRefDomain&&("-"!=i&&u.push("ard="+i),i=f.virtualRefDomain),f.virtualRefURL&&("-"!=o&&u.push("aru="+escape(o)),o=f.virtualRefURL);var T;return t&&(T=i+o,i="ADTAG",o=t),p=i,B=escape(o),("-"==p||"ADTAG"==p&&"-"==r)&&(i=h.get("ts_last=",!0),"-"!=i&&q.push("ls="+i)),h.setCookie("ts_last",!0,escape((l.hostname+l.pathname).substring(0,128))),i=h.get("ts_refer=",!0),"-"!=i&&q.push("rf="+i),r=l.hostname,f.inner&&(r=","+r+","+f.inner+","),"-"==p||-1<(","+r+",").indexOf(p)||1==A||(o=escape((p+o).substring(0,128)),o!=i&&(z=2),h.setCookie("ts_refer",!0,o)),Tcss.rdm=p,Tcss.rurl=B,Tcss.rarg=escape(s),v&&pgvGetRefInfo(),T?"&rdm="+Tcss.rdm+"&rurl="+Tcss.rurl+"&rarg="+Tcss.rarg+"&or="+T:"&rdm="+Tcss.rdm+"&rurl="+Tcss.rurl+"&rarg="+Tcss.rarg},getMainEnvInfo:function(){var t="";try{var n="-",i="-",o="-",s="-",r="-",p=0,l=navigator;self.screen&&(n=screen.width+"x"+screen.height,i=screen.colorDepth+"-bit"),l.language?o=l.language.toLowerCase():l.browserLanguage&&(o=l.browserLanguage.toLowerCase()),p=l.javaEnabled()?1:0,s=l.platform,r=new Date().getTimezoneOffset()/60,t="&scr="+n+"&scl="+i+"&lang="+o+"&java="+p+"&pf="+s+"&tz="+r}catch(e){}finally{return t}},getExtendEnvInfo:function(){var e="";try{var t=l.href,i="-",e=e+("&flash="+this.getFlashInfo());n.addBehavior&&(n.addBehavior("#default#homePage"),n.isHomePage(t)&&(e+="&hp=Y")),n.addBehavior&&(n.addBehavior("#default#clientCaps"),i=n.connectionType),e+="&ct="+i}catch(e){}finally{return e}},getFlashInfo:function(){var a="-",c=navigator;try{if(c.plugins&&c.plugins.length){for(var b=0;b<c.plugins.length;b++)if(-1<c.plugins[b].name.indexOf("Shockwave Flash")){a=c.plugins[b].description.split("Shockwave Flash ")[1];break}}else if(window.ActiveXObject)for(b=12;5<=b;b--)try{if(eval("new ActiveXObject('ShockwaveFlash.ShockwaveFlash."+b+"');")){a=b+".0";break}}catch(e){}}catch(t){}return a},getParameter:function(e,t){if(e&&t){var n=t.match(new RegExp("(\\?|#|&)"+e+"=([^&^#]*)(#|&|$)"));return n?n[2]:""}return""},getCookieSetDomain:function(e){var t,n,i=[];for(n=t=0;n<e.length;n++)"."==e.charAt(n)&&(i[t]=n,t++);return t=i.length,-1<e.indexOf(".cn")&&t--,n="qq.com",1==t?n=e:1<t&&(n=e.substring(i[t-2]+1)),n},watchClick:function(n){try{var i,o=!0,s="";switch(i=window.event?window.event.srcElement:n.target,i.tagName){case"A":s="<A href="+i.href+">"+i.innerHTML+"</a>";break;case"IMG":s="<IMG src="+i.src+">";break;case"INPUT":s="<INPUT type="+i.type+" value="+i.value+">";break;case"BUTTON":s="<BUTTON>"+i.innerText+"</BUTTON>";break;case"SELECT":s="SELECT";break;default:o=!1;}if(o){var a=new t(f),e=a.getElementPos(i);if(f.coordinateId){var r=a.getElementPos(document.getElementById(f.coordinateId));e.x-=r.x}a.url.push(a.getDomainInfo(!0)),a.url.push("&hottag="+escape(s)),a.url.push("&hotx="+e.x),a.url.push("&hoty="+e.y),a.url.push("&rand="+_Mathround(1E5*Math.random())),a.url.unshift("https://pingfore."+this.getCookieSetDomain(x)+"/pingd?"),a.sendInfo(a.url.join(""))}}catch(e){}},getElementPos:function(e){if(null===e.parentNode||"none"==e.style.display)return!1;var t=navigator.userAgent.toLowerCase(),n=null,i=[];if(e.getBoundingClientRect)return t=e.getBoundingClientRect(),e=_Mathmax(document.documentElement.scrollTop,document.body.scrollTop),n=_Mathmax(document.documentElement.scrollLeft,document.body.scrollLeft),{x:t.left+n-document.body.clientLeft,y:t.top+e-document.body.clientTop};if(document.getBoxObjectFor)t=document.getBoxObjectFor(e),i=[t.x-(e.style.borderLeftWidth?_Mathfloor(e.style.borderLeftWidth):0),t.y-(e.style.borderTopWidth?_Mathfloor(e.style.borderTopWidth):0)];else{if(i=[e.offsetLeft,e.offsetTop],n=e.offsetParent,n!=e)for(;n;)i[0]+=n.offsetLeft,i[1]+=n.offsetTop,n=n.offsetParent;(-1<t.indexOf("opera")||-1<t.indexOf("safari")&&"absolute"==e.style.position)&&(i[0]-=document.body.offsetLeft,i[1]-=document.body.offsetTop)}for(n=e.parentNode?e.parentNode:null;n&&"BODY"!=n.tagName&&"HTML"!=n.tagName;)i[0]-=n.scrollLeft,i[1]-=n.scrollTop,n=n.parentNode?n.parentNode:null;return{x:i[0],y:i[1]}},pgvGetArgs:function(){this.getDomainInfo();var e=["tcss_rp_dm="+Tcss.dm,"tcss_uid="+h.get("pgv_pvid=",!0),"tcss_sid="+h.get("ssid=",!0),"tcss_refer="+h.get("ts_refer=",!0),"tcss_last="+h.get("ts_last=",!0)];return e.join("&")},sendClickForPTT:function(){f.hottag&&(this.url.push(this.getDomainInfo(!0)),this.url.push("&hottag="+f.hottag),this.url.push("&hotx=9999&hoty=9999"),this.url.push("&rand="+_Mathround(1E5*Math.random())),this.url.unshift("https://pingfore."+this.getCookieSetDomain(x)+"/pingd?"),this.sendInfo(this.url.join("")))},tgideasCount:function(e){this.sendInfo("https://pingfore."+this.getCookieSetDomain(x)+"/pingd?dm=tgideas.qq.com.hot&url=/&hottag="+encodeURIComponent(e)+"&hotx=9999&hoty=9999&rand="+_Mathround(1E5*Math.random()))},sendInfo:function(e){return!window.navigator.sendBeacon||"iphone"==PTTRun.PTTSystem&&13>parseInt(PTTRun.PTTSystemVer)?void(k=new Image(1,1),Tcss.img=k,k.onload=k.onerror=k.onabort=function(){k.onload=k.onerror=k.onabort=null,Tcss.img=null},k.src=e):void window.navigator.sendBeacon(e)}};var h={sck:[],sco:{},init:function(){var e=this.get("pgv_info=",!0);if("-"!=e)for(var t,e=e.split("&"),n=0;n<e.length;n++)t=e[n].split("="),this.set(t[0],unescape(t[1]))},get:function(t,n){var o,i=Math.min,s=n?g.cookie:this.get("pgv_info=",!0),a="-";if(o=s.indexOf(t),-1<o){if(o+=t.length,a=s.indexOf(";",o),-1==a&&(a=s.length),!n){var r=s.indexOf("&",o);-1<r&&(a=i(a,r))}a=s.substring(o,a)}return a},set:function(t,n){this.sco[t]=n;for(var i=!1,o=this.sck.length,s=0;s<o;s++)if(t==this.sck[s]){i=!0;break}i||this.sck.push(t)},setCookie:function(t,n,i){var o=Math.abs,s=l.hostname,a=h.get(t+"=",n);return"-"!=a||i?a=i?i:a:("ts_uid"===t?q.push("nw=1"):"ssid"===t?z=1:void 0,a=n?"":"s",i=new Date().getUTCMilliseconds(),a+=_Mathround(2147483647*o(Math.random()-1))*i%1E10),n?"ts_uid"===t?this.saveCookie(t+"="+a,s,this.getExpires(1051200)):"ts_refer"===t?this.saveCookie(t+"="+a,s,this.getExpires(259200)):"ts_last"===t?this.saveCookie(t+"="+a,s,this.getExpires(30)):this.saveCookie(t+"="+a,w,"expires=Sun, 18 Jan 2038 00:00:00 GMT;"):this.set(t,a),a},getExpires:function(e){var t=new Date;return t.setTime(t.getTime()+6E4*e),"expires="+t.toGMTString()},save:function(){if(f.sessionSpan){var e=new Date;e.setTime(e.getTime()+6E4*f.sessionSpan)}for(var t="",n=this.sck.length,i=0;i<n;i++)t+=this.sck[i]+"="+this.sco[this.sck[i]]+"&";t="pgv_info="+t.substr(0,t.length-1),n="",e&&(n="expires="+e.toGMTString()),this.saveCookie(t,w,n)},saveCookie:function(e,t,n){g.cookie=e+";path=/;domain="+t+";"+n}};window.pgvMain=function(e,n){var o="";n?(o=n,Tcss._ver="tcsso.3.4.5.1"):(o=e,Tcss._ver="tcss.3.4.5.1");try{var s=function(){var e=window.performance;if(!e)return void console.log("\u4F60\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301 performance \u63A5\u53E3");var n=e.timing,t={},i=PTTRun.PTTSystem+PTTRun.PTTSystemVer+"|||"+PTTRun.detectBrowser+"|||"+PTTRun.PTTNetType;t.loadpage=(n.loadEventEnd-n.navigationStart)/1e3;var o=5<t.loadpage?"C":3<t.loadpage?"B":1<t.loadpage?"A":"S";PTTRun.quality1=o,__MossoSendClick("pttloadpage",o,i,PTTRun.virtualURL),t.domready=(n.domComplete-n.responseEnd)/1e3;var s=1>t.domready?"S":"A";__MossoSendClick("pttdomready",s,i,PTTRun.virtualURL),t.blank=(n.domInteractive-n.navigationStart)/1e3;var a=1.5<t.blank?"C":1<t.blank?"B":.5<t.blank?"A":"S";__MossoSendClick("pttblank",a,i,PTTRun.virtualURL)};if(v&&("undefined"!=typeof pvRepeatCount&&1==pvRepeatCount?(r=1,pvRepeatCount=2):r=2),1==r){if(r=2,new t(o).run(),"undefined"!=typeof PTTDate)PTTRun.newStayTime(_Mathround(new Date-PTTDate)),PTTDate=new Date;else{window.PTTDate=new Date;var a="onpagehide"in window?"pagehide":"unload";PTTRun.addEvent(window,a,function(){PTTRun.newStayTime(_Mathround(new Date-PTTDate)),s()})}__PTTDmp&&!PTTinitDmp.isInit&&PTTinitDmp(__PTTDmp),PTTRun.autoSend();var d=/([^.]+)\.[^.]+\.com/i.exec(PTTRun.virtualURL);d||console.warn("\u975EQQ\u57DF\u4E0B\u7684\u6570\u636E\u4E0A\u62A5\u6709\u53EF\u80FD\u65E0\u6548\uFF0C\u8BF7\u9A8C\u8BC1");var p="";p="sessionStorage"in window?sessionStorage.tokenParams?sessionStorage.tokenParams:PTTRun.getData("tokenParams")?PTTRun.getData("tokenParams"):"":PTTRun.getData("tokenParams")?PTTRun.getData("tokenParams"):"","Promise"in window&&PTTSendReport({game:d?d[1]:"cptest",searchUrl:p,action:"pv"})}for(var c=0,u=__PTTbtnBuffer.length;c<u;c++)PTTSendClick.apply(this,__PTTbtnBuffer[c]);__PTTbtnBuffer.length=0;for(var c=0,u=__PTTreportBuffer.args.length;c<u;c++)"Promise"in window&&PTTSendReport(__PTTreportBuffer.args[c]).then(__PTTreportBuffer.resolve[c])["catch"](__PTTreportBuffer.reject[c]);__PTTreportBuffer=null,"function"==typeof PTTCallback&&PTTCallback(),window.onerror=function(){__MossoSendClick("ptterror",arguments[0]+"|||"+arguments[1].split("?")[0]+"|||"+arguments[2],PTTRun.PTTSystem+PTTRun.PTTSystemVer+"|||"+PTTRun.detectBrowser+"|||"+PTTRun.PTTNetType,PTTRun.virtualURL)}}catch(e){}},window.pgvSendClickForPTT=function(n){new t(n).sendClickForPTT()},window.pgvSendClick=function(t){if("undefined"!=typeof setSite&&"undefined"!=typeof PTTSendClick){var e=t.hottag?t.hottag.split("."):0;if(t.hottag&&2<=e.length){var n=e[e.length-2].trimAll(),i=e[e.length-1].trimAll();console.log(decodeURI(n+":"+i))}else console.error("PTT\u7EC4\u4EF6\u63D0\u793A\uFF1A\u60A8\u7684\u6309\u94AE\u53C2\u6570\u6709\u8BEF");PTTSendClick(n,i,"\u65E7\u57CB\u70B9")}else pgvSendClickForPTT(t)},window.pgvWatchClick=function(e){new t(e).watchClick(e)},window.pgvGetArgs=function(e){return new t(e).pgvGetArgs()},window.PTT=function(){console.log("\u60A8\u6B63\u5728\u4F7F\u7528PTT\u6570\u636E\u4E0A\u62A5\u7EC4\u4EF6\uFF0C\u5E2E\u52A9\u6587\u6863\u53C2\u9605:http://tgideas.qq.com/ptt/");var e=this;e.PTTDomain=document.referrer,e.addEvent=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},e.getParameterByName=function(e){e=e.toLowerCase().replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),i=n.exec(window.location.search.toLowerCase());return null==i?"":decodeURIComponent(i[1].replace(/\+/g," "))},e.getData=function(t){t+="=";for(var n=document.cookie.split(";"),e=0,i=n.length;e<i;e++){for(var o=n[e];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return unescape(o.substring(t.length,o.length))}return!1},e.setData=function(t,n,e,i){e=e||0,i=i||"/";var o="",s=location.hostname.split(".");s=3<s.length?s.slice(s.length-3).join("."):location.hostname,0!=e&&(o=new Date,o.setTime(o.getTime()+24*(60*(60*(1E3*e)))),o="; expires="+o.toGMTString()),document.cookie=t+"="+escape(n)+o+"; path="+i+";domain=."+s},e.setDatatoqq=function(t,n){document.cookie=t+"="+escape(n)+"; path=/;domain=.qq.com"},e.getSession=function(t){if(window.sessionStorage)return sessionStorage.getItem(t);t+="=";for(var n=document.cookie.split(";"),e=0,i=n.length;e<i;e++){for(var o=n[e];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return unescape(o.substring(t.length,o.length))}return!1},String.prototype.trimAll=function(){return this.replace(/\s/g,"")},Number.prototype.replace=function(){return this+""},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){{for(var t=0,n=this.length;t<n;t++)if(this[t]==e)return t;return-1}}),e.splitVirtualStr=function(e){var t=["",""];return e&&(e=e&&-1==e.indexOf("//")?e:e.split("//")[1],/^\//.test(e)?t[1]=e:-1==e.indexOf("/")?t[0]=e:(t[0]=e.substring(0,e.indexOf("/")),t[1]=e.substring(e.indexOf("/"),e.length))),t},window.__MossoSendClick=function(t,n,i,o){if("undefined"==typeof setSite)return console.error("PTT\u7EC4\u4EF6\u63D0\u793A\uFF1A\u60A8\u9700\u8981\u5728\u9875\u9762\u91CC\u914D\u7F6EsetSite,\u5426\u5219\u5C06\u65E0\u6CD5\u91C7\u96C6\u7EDF\u8BA1\u6570\u636E,\u6587\u6863\u53C2\u9605:http://tgideas.qq.com/ptt/"),!1;t=""==t||"undefined"==typeof t?"":"_"+t.replace(/_|\./g,"*-*"),n=""==n||"undefined"==typeof n?"":"_"+n.replace(/_|\./g,"*-*"),i="undefined"==typeof i?"":i.replace(/_|\./g,"*-*");var s=(e.plat+"."+e.project+e.siteType+"."+e.pageType+t+n+"_"+i+"."+e.from).trimAll();s=encodeURIComponent(s),"1"==e.getData("PTTdebug")&&console.log(decodeURI("a:"+s));var a=e.splitVirtualStr(o);pgvSendClickForPTT({hottag:s,virtualDomain:a[0],virtualURL:a[1]})},window.PTTSendClick=function(t,n,i,o){if("undefined"==typeof setSite)return console.error("PTT\u7EC4\u4EF6\u63D0\u793A\uFF1A\u60A8\u9700\u8981\u5728\u9875\u9762\u91CC\u914D\u7F6EsetSite,\u5426\u5219\u5C06\u65E0\u6CD5\u91C7\u96C6\u7EDF\u8BA1\u6570\u636E,\u6587\u6863\u53C2\u9605:http://tgideas.qq.com/ptt/"),!1;-1!=["weekloop","reach","route","osav","actav","browserinfo","devicesize","viewsize","mc","systeminfo","nettype","user","osuser","ossysuser","actuser","hotspot","exposure","newstaytime","ptterror","pttloadpage","pttdomready","pttblank"].indexOf(t.toLowerCase().trimAll())&&(console.warn("\u7531\u4E8E\u60A8\u7684\u6309\u94AE\u540D\u79F0\u4E0EMOSSO\u7CFB\u7EDF\u4FDD\u7559\u540D\u79F0\u96F7\u540C\uFF0C\u7EC4\u4EF6\u5C06\u628A\u540D\u79F0\u4E3A\uFF1A\""+t+"\"\u7684\u6309\u94AE\u91CD\u65B0\u547D\u540D\u4E3A\uFF1A\""+t+"clash\""),t+="clash"),o=o?o:PTTRun.virtualURL,__MossoSendClick(t,n,i,o);var s=""==t||"undefined"==typeof t?"":t.replace(/_|\./g,"*-*"),a=""==n||"undefined"==typeof n?"":"_"+n.replace(/_|\./g,"*-*"),r="undefined"==typeof i?"":i.replace(/_|\./g,"*-*");"Promise"in window&&PTTSendReport({action:"btn",hottag:s+a+"_"+r});var d=""==n||"undefined"==typeof n?"."+e.from:"."+n,p=""==t||"undefined"==typeof t?"":"."+t,l=e.project+e.oldSiteType+"."+e.pageType+p+d;l=l.trimAll(),e.getData("PTTdebug")&&"0"==e.getData("PTTdebug")||console.log(decodeURI("b:"+l));var c=e.splitVirtualStr(o);pgvSendClickForPTT({hottag:l,virtualDomain:c[0],virtualURL:c[1]})},window.PTTDebug=function(t){e.setData("PTTdebug",t)},e.unitParams=function(){var n=navigator.userAgent.toLowerCase();e.osact=function(){if("undefined"==typeof setSite)return!1;var t=0,n=["0","1","m","pc","ingame"];return!setSite.osact&&""==e.getParameterByName("osact")||(t=(setSite.osact+"").trimAll()||e.getParameterByName("osact").trimAll(),-1==n.indexOf(t)&&(console.warn("\u60A8\u8BBE\u7F6E\u7684osact\u503C\u8D85\u51FA\u8303\u56F4\uFF0C\u8BF7\u5728"+n.join(",")+"\u4E2D\u9009\u62E9\u4E00\u4E2A,\u5426\u5219\u5C06\u4EE50\u4EE3\u66FF"),t=0)),t}(),e.project=function(){var e=["base","ingame","doujin","match","story","history","fans","coming","bbs","mct","skin","other","hero","commerce","version","brand","ip","community","netbar","important","app"];return /\/zlkdatasys\/mct\/proj_[1-9]\d*\/index.shtml/.test(location.pathname)?"mct_":"undefined"!=typeof setSite&&"undefined"==typeof setSite.project?"undefined"!=typeof setSite.siteType&&"os"==setSite.siteType.toLowerCase()?"base_":"other_":setSite.project&&-1!=e.indexOf(setSite.project.trimAll())?setSite.project.trimAll()+"_":(console.error("PTT\u7EC4\u4EF6\u63D0\u793A\uFF1A\u60A8\u8BBE\u7F6E\u7684project\u53C2\u6570\u503C\u6709\u8BEF\uFF0C\u76EE\u524D\u53EA\u5141\u8BB8\u8BBE\u7F6E\u503C\u4E3A:"+e.join(",")+"\u8BF7\u68C0\u67E5"),"other_")}(),e.siteType=function(){if("undefined"==typeof setSite||"undefined"==typeof setSite.siteType)console.error("PTT\u7EC4\u4EF6\u63D0\u793A\uFF1A\u60A8\u8FD8\u672A\u914D\u7F6EsetSite.siteType\u7684\u503C,\u5C06\u65E0\u6CD5\u91C7\u96C6\u7EDF\u8BA1\u6570\u636E,\u6587\u6863\u53C2\u9605:http://tgideas.qq.com/ptt/");else{if(("/m/"==location.pathname||"/"==location.pathname)&&"0"!=e.osact)return"os_"+e.osact;if(/\/zlkdatasys\/mct\/proj_[1-9]\d*\/index.shtml/.test(location.pathname))return"proj"+location.pathname.replace(/[^0-9]/g,"");var t=setSite.siteType.toLowerCase().replace(/_|\./g,"*-*");return"0"==e.osact?t+"_0":"1"==e.osact?t+"_osact":t+"_"+e.osact}}(),e.pageType=function(){if("undefined"==typeof setSite||"undefined"==typeof setSite.pageType)console.error("PTT\u7EC4\u4EF6\u63D0\u793A\uFF1A\u60A8\u9700\u8981\u914D\u7F6EsetSite.pageType\u7684\u503C,\u5426\u5219\u5C06\u65E0\u6CD5\u91C7\u96C6\u7EDF\u8BA1\u6570\u636E,\u6587\u6863\u53C2\u9605:http://tgideas.qq.com/ptt/");else{if(/\/zlkdatasys\/mct\/proj_[1-9]\d*\/index.shtml/.test(location.pathname)){var t=e.getParameterByName("media");return"index"+(""==t?"":"-"+t)}return setSite.pageType.replace(/_|\./g,"*-*")}}(),e.pageName=function(){if("undefined"==typeof setSite||"undefined"==typeof setSite.pageName);else{if(/\/zlkdatasys\/mct\/proj_[1-9]\d*\/index.shtml/.test(location.pathname)){var t=e.getParameterByName("media");return"\u6E20\u9053\u843D\u5730\u9875"+(""==t?"":"-"+t)}return setSite.pageName.replace(/_|\./g,"*-*")}}(),e.ingame=function(){return(-1!=n.indexOf("msdk")||-1!=n.indexOf("15d60")||-1!=n.indexOf("16A366")||-1!=n.indexOf("tiem")||-1!=n.indexOf("ingame")||"undefined"!=typeof pandora)&&-1==n.indexOf("gamehelper")?1:0}(),e.plat=function(){var t="";return t=e.ingame?-1==n.indexOf("tiem")?"dcv_ingame":"dcv_tiem":-1==n.indexOf("qq/")?-1==n.indexOf("micromessenge")?-1!=n.indexOf("gamehelper")||-1!=n.indexOf("lolapp")?"dcv_helper":-1==n.indexOf("weibo")?-1==n.indexOf("qqlivebrowser")?-1==n.indexOf("qzone")?-1==n.indexOf("yyb_version")?-1==n.indexOf("qqnews")?-1==n.indexOf("qnreading")?-1<n.indexOf("iphone")||-1<n.indexOf("ipad")||-1<n.indexOf("ipod")||-1<n.indexOf("android")?"dcv_other":"dcv_pc":"dcv_ttkb":"dcv_qqnews":"dcv_yyb":"dcv_qzone":"dcv_qqvideo":"dcv_weibo":"dcv_wx":"dcv_qq",t}(),e.from=function(){var t="other",n=e.getSession("channel");if("undefined"!=typeof e.PTTDomain&&(""==e.PTTDomain?t="direct":-1==e.PTTDomain.indexOf(location.hostname)?-1<e.PTTDomain.indexOf("baidu.com")?t="seo_baidu":-1<e.PTTDomain.indexOf("sogou.com")?t="seo_sogou":-1<e.PTTDomain.indexOf("sm.cn")?t="seo_sm":-1<e.PTTDomain.indexOf("so.com")?t="seo_360":-1<e.PTTDomain.indexOf("bing.com")?t="seo_bing":-1<e.PTTDomain.indexOf("google.com")?t="seo_google":t="other_"+e.PTTDomain.match(/([a-zA-Z0-9\._-]+\.[a-zA-Z]{2,6})/,"")[0].replace(/\./g,"_"):t="internal"),e.getParameterByName("adtag")){for(var o=[],s=e.getParameterByName("adtag").split("."),a=0,r=s.length;a<r;a++)4>a&&o.push(s[a]);o="adtag_"+o.join("_"),t=o}return n&&(-1!=n.indexOf("seo")&&(t=n),"wx"==n&&(t="wx_nemu")),t}(),e.oldSiteType=function(){return"os"==e.siteType.split("_")[0]?"dcv_pc"==e.plat?"gwpc":"1"==e.ingame?"ingame":"gwm":e.siteType}(),e.weekloop=function(){var t=Math.ceil,n=new Date,o=n.getFullYear(),s=n.getMonth(),a=n.getDate(),r=new Date(o,0,1).getDay(),d=t(t((new Date(o,s,a)-new Date(o,0,1)+1e3*(60*(60*(24*(r+1)))))/1e3/60/60/24)/7),p=e.getData("weekloop");if(p&&p.split("-")[3]==d)return void(e.PTTWeekloop="");var l=p?p.split("-"):["0","0","0","0"],c=0;if(d>l[3])c=d-l[3]-1;else{var u=53;29==new Date(o-1,1,29).getDate()&&6==new Date(o-1,0,1).getDay()&&(u=54);var c=u-l[3]+d-1}for(var g=0;g<c;g++)l.push("0");l.push(d+""),l.splice(0,l.length-4),e.PTTWeekloop=l.join("-"),e.setData("weekloop",e.PTTWeekloop,365),__MossoSendClick("weekloop",e.PTTWeekloop,"\u5468\u7559\u5B58",PTTRun.virtualURL)},e.classifyUser=function(e){var t=[];return 6<e&&14>e?t.push("is8-14daysUser","8-14\u7559"):14<e&&29>e?t.push("is16-29daysUser","16-29\u7559"):0===e?t.push("is1daysUser","\u5F53\u65E5\u56DE\u8BBF2"):1===e?t.push("is2daysUser","\u6B21\u7559"):2===e?t.push("is3daysUser","3\u7559"):3===e?t.push("is4daysUser","4\u7559"):4===e?t.push("is5daysUser","5\u7559"):5===e?t.push("is6daysUser","6\u7559"):6===e?t.push("is1weekUser","\u5468\u7559"):14===e?t.push("is15daysUser","15\u7559"):29===e?t.push("is1MonthUser","\u6708\u7559"):t.push("more1Month","\u8001\u7528\u6237"),t},e.inOneHostDate=function(){var t=e.getData("isHostDate"),n=_Mathfloor((new Date().getTime()-1e3*(60*new Date().getTimezoneOffset()))/1e3/60/60/24);return!(t&&!(1<=n-t))&&(e.setData("isHostDate",n,365),1)}(),e.inOneOsSysDate=function(){var t=e.getData("isOsSysDate"),n=_Mathfloor((new Date().getTime()-1e3*(60*new Date().getTimezoneOffset()))/1e3/60/60/24);return!(t&&!(1<=n-t))&&(e.setData("isOsSysDate",n,365),1)}(),e.inOneDate=function(){var t="os"==e.siteType.split("_")[0]||"/m/"==location.pathname||"/"==location.pathname?"isOsDate":"isActDate",n="os"==e.siteType.split("_")[0]||"/m/"==location.pathname||"/"==location.pathname?"":location.pathname.substring(0,location.pathname.lastIndexOf("/")+1),i=e.getData(t),o=_Mathfloor((new Date().getTime()-1e3*(60*new Date().getTimezoneOffset()))/1e3/60/60/24);return!(i&&!(1<=o-i))&&(e.setData(t,o,365,n),1)}(),e.oldUser=function(){if(e.inOneHostDate){var t=[],n=e.getData("PTTuserFirstTime");if(!n){var i=24*(60*(60*(1e3*_Mathfloor((new Date().getTime()-1e3*(60*new Date().getTimezoneOffset()))/1e3/60/60/24))));e.setData("PTTuserFirstTime",i,365),t.push("newUsers","\u65B0\u7528\u6237")}else{var o=new Date().getTime()-1e3*(60*new Date().getTimezoneOffset())-n;o=parseInt(o/86400000),t=e.classifyUser(o)}return t}return!1}(),e.osSysUser=function(){if(("os"==e.siteType.split("_")[0]||"0"!=e.osact&&"mct_"!=e.project||"/m/"==location.pathname||"/"==location.pathname)&&e.inOneOsSysDate){var t=[],n=e.getData("PTTosSysFirstTime");if(!n){var i=24*(60*(60*(1e3*_Mathfloor((new Date().getTime()-1e3*(60*new Date().getTimezoneOffset()))/1e3/60/60/24))));e.setData("PTTosSysFirstTime",i,365),t.push("newUsers","\u65B0\u7528\u6237")}else{var o=new Date().getTime()-1e3*(60*new Date().getTimezoneOffset())-n;o=parseInt(o/86400000),t=e.classifyUser(o)}return t}return!1}(),e.actOldUser=function(){if(e.PTTOsUser=[],e.PTTActUser=[],e.inOneDate){var t,n,i,o=[];"os"==e.siteType.split("_")[0]||"/m/"==location.pathname||"/"==location.pathname?(t="PTTosFirstTime",n="osUser",i=""):(t="PTTactFirstTime",n="actUser",i=location.pathname.substring(0,location.pathname.lastIndexOf("/")+1));var s=e.getData(t);if(!s){var a=24*(60*(60*(1e3*_Mathfloor((new Date().getTime()-1e3*(60*new Date().getTimezoneOffset()))/1e3/60/60/24))));e.setData(t,a,365,i),o.push("newUsers","\u65B0\u7528\u6237")}else{var r=new Date().getTime()-1e3*(60*new Date().getTimezoneOffset())-s;r=parseInt(r/86400000),o=e.classifyUser(r)}return"osUser"==n?e.PTTOsUser=o:e.PTTActUser=o,o.push(n),o}return!1}(),e.routeLine=function(){if("undefined"==typeof setSite||"undefined"==typeof setSite.siteType)return!1;var t=e.splitVirtualStr(PTTRun.virtualURL)[0]||location.hostname,n=t.replace(/\./g,"")+"routeLine";if(e.haveRoute=!0,e.PTTRoute=e.getData(n)?e.getData(n)+"_":"",7>=e.PTTRoute.split("_").length){var i=/^os_/.test(e.siteType)?e.pageType:e.siteType.split("_")[0];e.PTTRoute+=i,e.setDatatoqq(n,e.PTTRoute),__MossoSendClick("route",e.PTTRoute,"\u8DEF\u5F84",PTTRun.virtualURL)}else return e.haveRoute=!1,""},e.PTTSystem=function(){var e=navigator.platform.toLowerCase(),t="";return t=-1==n.indexOf("android")?-1==n.indexOf("iphone")?-1==n.indexOf("ipad")?-1==n.indexOf("ipod")?"win32"==e||"windows"==e?"windows":"mac68k"==e||"macppc"==e||"macintosh"==e||"macintel"==e?"mac":"x11"==e?"unix":"other":"ipod":"ipad":"iphone":"android",t}(),e.PTTSystemVer=function(){var t=e.PTTSystem,i="";switch(t){case"android":var o="android";i=-1==n.indexOf("android/")?n.substr(n.indexOf(o)+8,n.indexOf(";",n.indexOf(o))-n.indexOf(o)-8).split(" ")[0]:n.substr(n.indexOf(o)+8,n.indexOf(" ",n.indexOf(o))-n.indexOf(o)-8).split(" ")[0];break;case"iphone":var s="iphone os";i=n.substr(n.indexOf(s)+10,n.indexOf(" like ",n.indexOf(s))-n.indexOf(s)-10);break;case"windows":i=-1<n.indexOf("windows nt 5.0")||-1<n.indexOf("windows 2000")?"win2000":-1<n.indexOf("windows nt 5.1")||-1<n.indexOf("windows xp")?"winXP":-1<n.indexOf("windows nt 5.2")||-1<n.indexOf("windows 2003")?"win2003":-1<n.indexOf("windows nt 6.0")||-1<n.indexOf("windows vista")?"winVista":-1<n.indexOf("windows nt 6.1")||-1<n.indexOf("windows 7")?"win7":-1<n.indexOf("windows nt 6.2")||-1<n.indexOf("windows 8")?"win8":-1<n.indexOf("windows nt 10")||-1<n.indexOf("windows 10")?"win10":"other";break;case"ipad":var a="cpu os";i=n.substr(n.indexOf(a)+7,n.indexOf(" like ",n.indexOf(a))-n.indexOf(a)-7);break;case"mac":var r="intel mac os x";i=n.substr(n.indexOf(r)+15,n.indexOf(")",n.indexOf(r))-n.indexOf(r)-15);break;case"ipod":i=n.substr(n.indexOf(s)+10,n.indexOf(" like ",n.indexOf(s))-n.indexOf(s)-10);break;default:i="unknown";}return i}(),e.detectBrowser=function(){var i="",o="",s="",a="other",r=e.PTTSystem;return a="android"==r||"iphone"==r||"ipad"==r||"ipod"==r?"mobile":"pc","mobile"==a?(/msdk/.test(n)?(i="msdk",s=/(msdk)[=. -\/]?(\d+[\._]?\d*)/.exec(n)):/tiem/.test(n)?(i="tiem",s=/(tiem ingame browser)[=. -\/]?(\d+[\._]?\d*)/.exec(n)):/micromessenger/.test(n)?(i="weixin",s=/(micromessenger)[=. -\/]?(\d+[\._]?\d*)/.exec(n)):/qq\//.test(n)?(i="qq",s=/(qq\/)[=. -\/]?(\d+[\._]?\d*)/.exec(n)):/mqqbrowser/.test(n)?(i="mqqbrowser",s=/(mqqbrowser)[=. -\/]?(\d+[\._]?\d*)/.exec(n)):/weibo/.test(n)?(i="sina",s=/(applewebkit)[=. -\/]?(\d+[\._]?\d*)/.exec(n)):/ucbrowser/.test(n)?(i="uc",s=/(ucbrowser)[=. -\/]?(\d+[\._]?\d*)/.exec(n)):/baiduboxapp/.test(n)?(i="baidubrowser",s=/(baiduboxapp)[=. -\/]?(\d+[\._]?\d*)/.exec(n)):/chrome|crios/.test(n)?(i="chrome",s=/(chrome|crios)[=. -\/]?(\d+[\._]?\d*)/.exec(n)):/android/.test(n)?(i="original",-1==n.indexOf("applewebkit/")?o="unmobile":s=/(applewebkit)[=. -\/]?(\d+[\._]?\d*)/.exec(n)):/mac os x/.test(n)?(i="safari",s=/(applewebkit)[=. -\/]?(\d+[\._]?\d*)/.exec(n)):(i=n.trimAll(),o="unmobile"),o="unmobile"==o?o:s?s[2]:"unmobile"):"pc"==a?/qqbrowser\/\d+/.test(n)?(s=/(qqbrowser)[=. -\/]?(\d+[\._]?\d*)/.exec(n),i="qqbrowser",/qbcore\/\d+/.test(n)&&(i="inqq"),/micromessenger\/\d+/.test(n)&&(i="inweixin"),o=s?s[2]:"unwindow"):/ubrowser\/\d+/.test(n)?(s=/(ubrowser)[=. -\/]?(\d+[\._]?\d*)/.exec(n),i="ubrowser",o=s?s[2]:"unwindow"):/maxthon\/\d+/.test(n)?(s=/(maxthon)[=. -\/]?(\d+[\._]?\d*)/.exec(n),i="maxthon",o=s?s[2]:"unwindow"):/2345explorer\/\d+/.test(n)?(s=/(2345explorer)[=. -\/]?(\d+[\._]?\d*)/.exec(n),i="2345explorer",o=s?s[2]:"unwindow"):/chrome\/\d+/.test(n)?(s=/(chrome)[=. -\/]?(\d+[\._]?\d*)/.exec(n),i="chrome",-1!=n.indexOf("metasr")&&(i="sogou"),o=s?s[2]:"unwindow"):/msie \d+\.\d+/.test(n)?(s=/ms(ie) (\d+\.\d+)/.exec(n),i="ie",o=s?s[2]:"unwindow"):-1==n.indexOf("trident/7.0")?/firefox(\/\d+\.\d+)/.test(n)?(s=/(firefox)[=. -\/]?(\d+[\._]?\d*)/.exec(n),i="firefox",o=s?s[2]:"unwindow"):/version\/(\d+\.\d) (safari)/.test(n)?(s=/version\/(\d+\.\d) (safari)/.exec(n),i="safari",o=s?s[1]:"unwindow"):/opera.+version\/\d+\.\d+/.test(n)?(s=/(opera).+version\/(\d+)\.\d+/.exec(n),i="opera",o=s?s[2]:"unwindow"):(i="unknown",o="unwindow"):(i="ie",o="11"):(i="unknown",o="unkown"),(e.PTTBrowser=i,e.PTTBrowserVer=o,e.PTTBrowser+e.PTTBrowserVer)}(),e.PTTNetType=function(){var e="";if(-1!=n.indexOf("nettype/")){var t=-1==n.indexOf(" ",n.indexOf("nettype/"))?20:n.indexOf(" ",n.indexOf("nettype/"))-n.indexOf("nettype/")-8;e=n.substr(n.indexOf("nettype/")+8,t)}else e="undefined"!=typeof navigator.connection&&"undefined"!=typeof navigator.connection.type?navigator.connection.type:-1!=n.indexOf("iphone")||-1!=n.indexOf("ipad")||-1!=n.indexOf("ipod")||-1!=n.indexOf("android")?"mobileUnknown":"PCNetwork";return e}(),e.getPixel=function(){var t=document.documentElement.clientWidth,i=document.documentElement.clientHeight,o=window.devicePixelRatio?window.devicePixelRatio:1;if(-1!=n.indexOf("iphone")||-1!=n.indexOf("ipad")||-1!=n.indexOf("ipod")||-1!=n.indexOf("android")){var s=window.screen.width,a=t,r=window.screen.height,d="",p="";if(_Mathmax(s,r)==a?(d=s,p=r):(p=t/s*r,d=a),d>p){var l=p;p=d,d=l}if(t>i){var c=i;i=t,t=c}}else var d=window.screen.width,p=window.screen.height;e.PTTPixelWidth=parseInt(d*o),e.PTTPixelHeight=parseInt(p*o),e.PTTViewPixelWidth=parseInt(t*o),e.PTTViewPixelHeight=parseInt(i*o)}()},e.unitParams(),e.autoSend=function(){e.routeLine(),e.weekloop(),__MossoSendClick("systemInfo",e.PTTSystem+e.PTTSystemVer,"\u7CFB\u7EDF\u4FE1\u606F",PTTRun.virtualURL),__MossoSendClick("browserInfo",e.detectBrowser,"\u6D4F\u89C8\u5668\u4FE1\u606F",PTTRun.virtualURL),__MossoSendClick("devicesize",e.PTTPixelWidth+"x"+e.PTTPixelHeight,"\u8BBE\u5907\u5C3A\u5BF8",PTTRun.virtualURL),__MossoSendClick("viewsize",e.PTTViewPixelWidth+"x"+e.PTTViewPixelHeight,"\u53EF\u89C6\u5C3A\u5BF8",PTTRun.virtualURL),__MossoSendClick("netType",e.PTTNetType,"\u7F51\u7EDC\u7C7B\u578B",PTTRun.virtualURL),e.oldUser&&__MossoSendClick("user",e.oldUser[0],e.oldUser[1],PTTRun.virtualURL),e.osSysUser&&__MossoSendClick("osSysUser",e.osSysUser[0],e.osSysUser[1],PTTRun.virtualURL),e.actOldUser&&__MossoSendClick(e.actOldUser[2],e.actOldUser[0],e.actOldUser[1],PTTRun.virtualURL),e.exposure(window)},e.exposure=function(t){function n(e,n,s){var a={container:t.document.body,offset:0};(n===void 0||"function"==typeof n)&&(s=n,n={});for(var r=a.container=n.container||a.container,d=a.offset=n.offset||a.offset,l=0;l<p.length;l++)if(p[l].container===r)return p[l].isInViewport(e,d,s);return p[p.push(o(r))-1].isInViewport(e,d,s)}function i(e,t,n){var i;return function(){var o=this,s=arguments,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||e.apply(o,s)},t),a&&e.apply(o,s)}}function o(n){function o(e,t,n){return{watch:function(){d.add(e,t,n)},dispose:function(){d.remove(e)}}}function r(e,i){if(!c(t.document.documentElement,e)||!c(t.document.documentElement,n))return!1;if(!e.offsetWidth||!e.offsetHeight)return!1;var o=e.getBoundingClientRect(),s={};if(n===t.document.body)s={top:-i,left:-i,right:t.document.documentElement.clientWidth+i,bottom:t.document.documentElement.clientHeight+i};else{var a=n.getBoundingClientRect();s={top:a.top-i,left:a.left-i,right:a.right+i,bottom:a.bottom+i}}var r=o.right>=s.left&&o.left<=s.right&&o.bottom>=s.top&&o.top<=s.bottom;return r}var d=s(),p=n===t.document.body?t:n,u=i(d.checkAll(function(e,t,n){r(e,t)&&(d.remove(e),n(e))}),15);return e.addEvent(p,"scroll",u),p===t&&e.addEvent(t,"resize",u),l&&a(d,n,u),setInterval(u,150),{container:n,isInViewport:function(e,t,n){if(!n)return r(e,t);var i=o(e,t,n);return i.watch(),i}}}function s(){function e(e){for(var t=n.length-1;0<=t;t--)if(n[t][0]===e)return t;return-1}function t(t){return-1!==e(t)}var n=[];return{add:function(e,i,o){t(e)||n.push([e,i,o])},remove:function(t){var i=e(t);-1!==i&&n.splice(i,1)},isWatched:t,checkAll:function(e){return function(){for(var t=n.length-1;0<=t;t--)e.apply(this,n[t])}}}}function a(e,t,n){function i(t){var n=a.call([],Array.prototype.slice.call(t.addedNodes),t.target);return 0<s.call(n,e.isWatched).length}var o=new MutationObserver(function(e){!0===e.some(i)&&setTimeout(n,0)}),s=Array.prototype.filter,a=Array.prototype.concat;o.observe(t,{childList:!0,subtree:!0,attributes:!0})}function r(e){var n=[];if("function"==typeof t.document.querySelectorAll)n=Array.prototype.slice.call(t.document.querySelectorAll("["+e+"]"));else for(var o,s=document.getElementsByTagName("*"),a=0;a<s.length;a++)o=s[a],o.getAttribute(e)&&n.push(o);return n}function d(e,t){t||(t=location.href),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",i=new RegExp(n),o=i.exec(t);return null==o?null:o[1]}var p=[],l="function"==typeof t.MutationObserver,c=t.document.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:t.document.documentElement.contains?function(e,t){return e!==t&&!!e.contains&&e.contains(t)}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},u=document.currentScript||function(){var e=document.getElementsByTagName("script");return e[e.length-1]}(),g=d("prefix",u.src)||"",m=parseInt(d("autorun",u.src)||1),f=function(){h(g)},h=function(t){g=t||g;for(var o=r("exposure-tag"),s=0;s<o.length;s++)(function(){var t=s,n=o[t].getAttribute("exposure-tag").split(",");e.addEvent(o[t],"click",function(){__MossoSendClick&&__MossoSendClick("hotspot",n[0],n[1],PTTRun.virtualURL)})})(),n(o[s],function(e){var t=e.getAttribute("exposure-tag").split(",");__MossoSendClick&&__MossoSendClick("exposure",t[0],t[1],PTTRun.virtualURL)})},T=function(){var t,n=[],i=document,o=i.documentElement.doScroll,s=(o?/^loaded|^c/:/^loaded|^i|^c/).test(i.readyState);return s||e.addEvent(i,"DOMContentLoaded",t=function(){for(i.removeEventListener("DOMContentLoaded",t),s=1;t=n.shift();)t()}),function(e){s?setTimeout(e,0):n.push(e)}}();m?T(f):function(){window.exposure={},exposure.run=function(e){h(e)}}()},e.newStayTime=function(e){for(var t=[0,3,7,10,15,30,60,90,120,180,300,600,900,1800,3600],n="infinite",o=_Mathround(e/1e3),s=1,a=t.length;s<a;s++)if(o<t[s]){n=t[s-1];break}__MossoSendClick("newStayTime",""+n,"\u505C\u7559\u65F6\u957F",PTTRun.virtualURL),"Promise"in window&&window.PTTSendReport({action:"timeline",hottag:"newstaytime_"+e+"_\u505C\u7559\u65F6\u957F",staytime:e},!1)}}})(),window.console=window.console||function(){var e={};return e.log=e.warn=e.debug=e.info=e.error=e.time=e.dir=e.profile=e.clear=e.exception=e.trace=e.assert=function(){},e}(),window.PTTinitDmp=function(e){var t=e,n={},i={};t.args=t.args||{},PTTinitDmp.isInit=!0,window.__dmpQueue=[],t.sendXHR=function(e,t){var n="undefined"==typeof t||t,i="POST",o="//dmplog.qq.com/gingame/report/click",t=n,s=new XMLHttpRequest;if(2e3>e.length&&(i="GET",o+="?"+e,e=null),s.open(i,o,t),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.withCredentials=!0,s.send(e),n)return new Promise(function(e,t){s.onreadystatechange=function(){if(4==s.readyState)if(200<=s.status&&300>s.status||304==s.status){var n;n=JSON.parse(s.responseText),e(n)}else t(s.readyState)}})},t.stringify=function(e){var t="";return Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,o=Array(n);n--;)o[n]=[t[n],e[t[n]]];return o}),Object.entries(e).forEach(function(e){t+="&".concat(e[0],"=").concat(encodeURIComponent(e[1]))}),t.replace(/^&/,"")},t.parseQuery=function(e){e=e.replace(/\?/g,"");for(var t=/([^=&\s]+)[=\s]*([^&\s]*)/g,n={};t.exec(e);)n[RegExp.$1]=RegExp.$2;return n},t.getUrlParam=function(e,t){var n=new RegExp("(\\?|&)"+e+"=([^&#]*)","i"),i=n.exec(t?t:location.href);return null==i?"":decodeURIComponent(i[2])},t._sourceIdHandler=function(e){for(var t=(e||location.hash).replace(/^#?\//,"").replace(/\?(.)*/,"").split("/"),n=0;5>n;n++)t.length<n&&t.push("0"),4==n?t[n]="page":0==n&&!t[n]&&(t[n]="index");var o=t.join(".");return o},t._titleHandler=function(e,t){return e=-1===(t+"").indexOf(",")?e.replace(/\|/g,"-").replace(/\,/g,"\uFF0C"):e.replace(/\|/g,"-"),e},t.getQQ=function(){for(var e,t=["uin_cookie","adid","uin","clientuin","pt2gguin","zzpaneluin"],n=0,o=t.length;n<o;n++)if(e=PTTRun.getData(t[n]),e){return e}return""},t.searchObj=t.parseQuery(t.args.searchUrl||location.search),t.init=function(){var e=PTTRun;n={pttplat:e.plat,pttproject:e.project.split("_")[0],pttpagetype:e.pageType,pttsitetype:e.siteType.split("_")[0],pttosact:e.osact,pttpagename:e.pageName,pttrefer:e.from};var o=["pttplat=".concat(e.plat),"pttproject=".concat(e.project?e.project:"").concat(e.siteType),"pttpagetype=".concat(e.pageType),"pttpagename=".concat(encodeURIComponent(e.pageName)),"pttrefer=".concat(encodeURIComponent(e.from))],s=[];e.PTTWeekloop?s.push("weekloop_".concat(e.PTTWeekloop,"_\u5468\u7559\u5B58")):s.push(""),e.haveRoute?s.push("route_".concat(e.PTTRoute,"_\u8DEF\u5F84")):s.push(""),e.oldUser[0]?s.push("user_".concat(e.oldUser[0],"_").concat(e.oldUser[1])):s.push(""),e.PTTOsUser[0]?s.push("osUser_".concat(e.PTTOsUser[0],"_").concat(e.PTTOsUser[1])):s.push(""),e.osSysUser[0]?s.push("osSysUser_".concat(e.osSysUser[0],"_").concat(e.osSysUser[1])):s.push(""),e.PTTActUser[0]?s.push("actUser_".concat(e.PTTActUser[0],"_").concat(e.PTTActUser[1])):s.push(""),s.push("browserInfo_".concat(e.detectBrowser,"_\u6D4F\u89C8\u5668\u4FE1\u606F")),s.push("devicesize_".concat(e.PTTPixelWidth,"x").concat(e.PTTPixelHeight,"_\u8BBE\u5907\u5C3A\u5BF8")),s.push("viewsize_".concat(e.PTTViewPixelWidth,"x").concat(e.PTTViewPixelHeight,"_\u53EF\u89C6\u5C3A\u5BF8")),s.push("systemInfo_".concat(e.PTTSystem+e.PTTSystemVer,"_\u7CFB\u7EDF\u4FE1\u606F")),s.push("netType_".concat(e.PTTNetType,"_\u7F51\u7EDC\u7C7B\u578B")),i={sid:e.getData("pgv_info").split("&")[0].split("ssid=")[1]||null,pvid:e.getData("pgv_pvid")||null,_ver:Tcss._ver,qq:t.getQQ(),dm:Tcss.dm.replace(/.hot/,"")||null,url:Tcss.url,rdm:Tcss.rdm,rurl:Tcss.rurl,hottag:s.join(";"),hotx:"9999",hoty:"9999",rarg:"",scr:"".concat(e.PTTPixelWidth,"x").concat(e.PTTPixelHeight),scl:_typeof(screen.colorDepth)?screen.colorDepth+"-bit":"24-bit",lang:navigator.language.toLowerCase(),java:"javaEnabled"in navigator?navigator.javaEnabled()?1:0:0,pf:navigator.platform,tz:new Date().getTimezoneOffset()/60,flash:"-",ct:"-",ext:o.join("&").trimAll(),hurlcn:"",reserved1:"-1",tt:""}},t.init(),t.report=function(e,o){if(-1==["dna.qq.com","zhuoyao.qq.com","jxqy.qq.com","hlddz.qq.com","hyrz.qq.com","speedm.qq.com","majiang.qq.com","wepop.qq.com","wmsj.qq.com","hongjing.qq.com","hyrzol.qq.com","slg.qq.com","hdl.qq.com","swy.qq.com","x5m.qq.com","gp.qq.com","cfm.qq.com","quanyou.qq.com","wpzs.qq.com","longzhu.qq.com","jx3.qq.com","wdqy.qq.com","lgwx.qq.com","dp.qq.com","yw.qq.com","zyhx.qq.com","ddzzq.qq.com","soc.qq.com","cslz.qq.com","chessrush.qq.com","activitiestest.ingame.qq.com"].indexOf(PTTRun.splitVirtualStr(PTTRun.virtualURL)[0]||location.hostname))return!1;var s=t.searchObj.openid||PTTRun.getData("openid")||"",a=t.searchObj.appid||PTTRun.getData("appid")||"",r="sessionStorage"in window&&sessionStorage.__dmp_target_id||"",d="sessionStorage"in window&&sessionStorage.__dmp_targettype||"",p="sessionStorage"in window&&sessionStorage.__dmp_from||"";if("undefined"!=typeof e&&(r="undefined"==typeof e.targetid?r:e.targetid,d="undefined"==typeof e.targettype?d:e.targettype,p="undefined"==typeof e.from?p:e.from),"undefined"!=typeof setSite){if(r=setSite.targetId?setSite.targetId:r,setSite.targetType){d=-1==["news","video","moment","other"].indexOf(setSite.targetType)?"other":setSite.targetType}if(setSite.from){p=-1==["v4","ams","tgl","ingame","other"].indexOf(setSite.from)?"other":setSite.from}}var l=t.searchObj.acctype||"";l=(l+"").toLocaleLowerCase(),l="wx"==l?1:"qq"==l?2:l,l=isNaN(parseInt(l))?0:parseInt(l),t.args={game:t.args.game,acctype:l,platid:t.searchObj.platid||"",openid:s,reserved2:a,partition:t.searchObj.partition||"",roleid:t.searchObj.roleid||"",pageid:location.origin+location.pathname+location.hash,business:"dmpnew",action:e.action||"",title:e.title||"",targetid:r,targettype:d,tag:e.tag||"",from:p,dt:Date.now(),staytime:e.staytime||"",path:e.path||"",recid:e.recid||"",channelid:e.channelid||"",top:e.top||""},e.sourceid||(t.args.sourceid=t._sourceIdHandler(e.hash)),""!=t.args.title&&(t.args.title=t._titleHandler(e.title,e.targetid)),t.args.adtag=t.getUrlParam("adtag",t.args.searchUrl),__dmpQueue.push(_objectSpread2({},t.args));var c=__dmpQueue[__dmpQueue.length-1],u=0,g=function s(){if("pv"!=c.action){var a=i,r=a._ver,d=a.rdm,p=a.rurl,l=a.rarg,g=a.scr,m=a.scl,f=a.lang,h=a.java,T=a.pf,y=a.tz,x=a.flash,P=a.ct,w=a.ext,v=a.hurlcn,O=a.reserved1,_=a.tt,b=_objectWithoutProperties(a,["_ver","rdm","rurl","rarg","scr","scl","lang","java","pf","tz","flash","ct","ext","hurlcn","reserved1","tt"]);b.rand=_Mathround(1E5*Math.random()),b.hottag=e.hottag||"",c.rtype="btn";var q=n,U=q.pttplat,k=q.pttproject,D=q.pttsitetype,S=q.pttosact,L=q.pttpagetype,C=q.pttrefer,R=_objectSpread2({},b,{},{pttplat:U,pttproject:k,pttsitetype:D,pttosact:S,pttpagetype:L,pttrefer:C},{},c);return 1<__dmpQueue.length&&--__dmpQueue.length,console.log(R),R=t.stringify(R),t.sendXHR(R,o)}if("undefined"!=typeof PTTDate&&PTTRun.getData("PTTDate")==PTTDate.getTime()&&5>u)u++,window.setTimeout(s,50);else{PTTRun.setData("PTTDate",PTTDate.getTime()),t.init();var j=i,E=j.hotx,A=j.hoty,I=_objectWithoutProperties(j,["hotx","hoty"]);I.rand=_Mathround(1E5*Math.random()),c.rtype="pv";var N=_objectSpread2({},I,{},n,{},c);return--__dmpQueue.length,console.log(N),N=t.stringify(N),t.sendXHR(N,o)}};return g()}},window.PTTSendReport=window.dmpReport=function(e,t){return window.__PTTDmp||(new window.__SlugDmp({game:e.game,searchUrl:e.searchUrl}),PTTinitDmp(__PTTDmp)),window.__PTTDmp.report(e,t)}})();
